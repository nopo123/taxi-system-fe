import{r as o,f as m,j as e}from"./index-Bn22ju4j.js";import{d as p}from"./Delete-BkVVZTen.js";import{O as c}from"./OrderUserService-Cav5qOhk.js";import{C as x}from"./Container-Bx1Kr23n.js";import{B as h,T as j,P as f}from"./Box-9N2gnsen.js";import{T as b,a as u,b as v,c as l,d as t,e as k}from"./TableRow-DBZuoOqe.js";import{I as T}from"./IconButton-C-yAM3OB.js";import"./createSvgIcon-Chs_L0E8.js";import"./createSvgIcon-CQDQQGMN.js";import"./useControlled-Di7wUfld.js";import"./ownerWindow-DvT1GKkC.js";import"./useThemeProps-DcV2iQdr.js";const A=()=>{const[n,i]=o.useState([]),{enqueueSnackbar:a}=m();o.useEffect(()=>{(async()=>{try{const s=await c.getAll();i(s),a("História zákazníkov načítaná úspešne",{variant:"success"})}catch(s){a(s.response.data.message,{variant:"error"})}})()},[a]);const d=async r=>{try{await c.delete(r),i(n.filter(s=>s.id!==r)),a("Používateľ bol úspešne zmazaný",{variant:"success"})}catch(s){a(s.response.data.message,{variant:"error"})}};return e.jsx(e.Fragment,{children:e.jsxs(x,{maxWidth:"lg",sx:{mt:4},children:[e.jsx(h,{children:e.jsx(j,{variant:"h4",sx:{mb:3},children:"História zákazníkov"})}),e.jsx(b,{component:f,children:e.jsxs(u,{children:[e.jsx(v,{children:e.jsxs(l,{children:[e.jsx(t,{children:"Meno a priezvisko"}),e.jsx(t,{children:"Akcia"})]})}),e.jsx(k,{children:n&&n.map(r=>e.jsxs(l,{children:[e.jsx(t,{children:`${r.firstName} ${r.lastName}`}),e.jsx(t,{children:e.jsx(T,{"aria-label":"delete",onClick:()=>d(r.id),children:e.jsx(p,{})})})]},r.id))})]})})]})})};export{A as default};
